https://www.youtube.com/watch?v=jRETli3M8Rw&list=WL&index=5

this is the chatGPT query:
```text
write me some PHP that will take an ID as input. it should then lookup the corresponding produck from MySQL database, and return all product info back to the user

```
and here is the code 
```php
<?php

// Set up database connection
$servername = "localhost";
$username = "yourusername";
$password = "yourpassword";
$dbname = "yourdatabase";
$conn = mysqli_connect($servername, $username, $password, $dbname);

// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}

// Get ID from input (assuming it's passed in as a GET parameter called "id")
$id = $_GET["id"];

// Query the database to get the product with the specified ID
$sql = "SELECT * FROM products WHERE id = $id";
$result = mysqli_query($conn, $sql);

// Check if any rows were returned
if (mysqli_num_rows($result) > 0) {
    // Loop through the rows and display the product info
    while ($row = mysqli_fetch_assoc($result)) {
        echo "ID: " . $row["id"] . "<br>";
        echo "Name: " . $row["name"] . "<br>";
        echo "Price: $" . $row["price"] . "<br>";
        echo "Description: " . $row["description"] . "<br>";
        // Add any other fields you want to display here
    }
} else {
    echo "No product found with ID " . $id;
}

// Close database connection
mysqli_close($conn);

?>
```
ironically when i asked if the code is secure it said no and that it is vulnerable to SQL injection attacks. This is because it uses string concatenation to construct the SQL query, rather than using prepared statements or another form of input sanitization.

but it also provided solutions with imput sanitization, using the following 
```php
// Use a prepared statement to query the database
$stmt = mysqli_prepare($conn, "SELECT * FROM products WHERE id = ?");
mysqli_stmt_bind_param($stmt, "i", $id);
mysqli_stmt_execute($stmt);
$result = mysqli_stmt_get_result($stmt);

// Loop through the rows and display the product info
while ($row = mysqli_fetch_assoc($result)) {
    // Display the product info
}

// Close the prepared statement
mysqli_stmt_close($stmt);
```
